<!DOCTYPE html>
<head>
    <style>
        :root {
  --altitude:10000;
  --font:4vw;
  --yaw:0;
  --roll:0;
  --pitch:0;
}
        p{
            display: inline;
        }
        body *, body{
            font-family: 'myFont'!important;
            font-size: var(--font);
            color: red;
            text-decoration: none;
        }
        body>canvas{
            position: fixed;
            left:0;
            top:0;
            z-index:-1;
            width: 100%;
            height: 100%;
            
        }
        .menu{
            text-align: center;
            flex-direction:row;
            left:0;
            top:0;
            position: fixed;
            width:40vw;
            font-size: var(--font);
            flex-direction:column;
            display:flex;
            background-color: black;
            border-bottom: red solid 1px;
        }
        .menu a{
            cursor:pointer;
            border-top: red solid 1px;
        }
        .menu>*, select{      
            background: black;
            margin:0;     
            display:block;
            padding: calc(var(--font) / 4);
        }
        .altitudeContainer{
            background-color: black;
            width:1vh;
            height:60vh;
            position: absolute;
            bottom:5vh;
            left: 1vh;

        }
        .marker{
            left:2vh;
            position:absolute;
            display:flex;
            font-size: var(--font);
        }
        .marker::before{
            display:inline-block;
            content: " ";
            width:0px;
            height: 0px;
            border:calc(var(--font) / 2) solid transparent;
            margin-right: calc(var(--font) / 4);
        }
        .alt::before{
            border-right:calc(var(--font) / 2) solid red;
        }
        .zero::before{
            border-bottom:calc(var(--font) / 2) solid red;
        }
        .max::before{
            border-top:calc(var(--font) / 2) solid red;
        }
        .zero{
            bottom:0;
        }
        .max{
            bottom:40vh;
        }
        .alt{
            bottom:calc(40vh / 30000 * var(--altitude));
        }
        .angle{
            position: fixed;
            display: inline-block;
            background: url("textures/azimuth.png") calc(var(--font) * 16); 
            background-position: center;
            background-size: cover;
            transform: translate(50%,-50%); /*rotate(calc(var(--yaw) * 1deg)); */
            width: calc(var(--font) * 12);
            height: calc(var(--font) * 12);
            right:calc(var(--font) * 6);
            z-index: 3;
        }
        .angle div{
            position: absolute;
            display: inline-block;
            width: calc(var(--font) * 12);
            top:50%;
            right:50%;
        }
        .map{
            position: fixed;
            width: 100vw;
            height: 30vh;
            bottom:0;
            left:0;
            background: black;
        }
        .window{
            padding: var(--font);
            position:fixed;
            top:0;
            left: 0;
            background-color: black;
            width: 100vw;
            height:calc(100vh - 2 * var(--font));
            z-index: 4;
            display: none;
            box-sizing:border-box;
        }
        .window .chart{
            width: 100%;
            height: calc(100% - var(--font) * 4);
            
        }
        .window .dataSelectForm{
            width:calc(var(--font) * 10);
            position: absolute;
            top:calc(var(--font) * 1);
            left: calc(var(--font) * 1);
        }
        .window *{
            z-index: 5;
        }

        .en{
            display:none;
        }
        .bg{
            display:unset;
        }
        .closer{
            display:block;
            padding: calc(var(--font) / 2);
            position: absolute;
            background: red;
            color:black;
            top:0;
            right:0;
            cursor: pointer;
        }
        select, select *{
            border: 1px solid #800 ;
            display: inline-block;
            outline:  none;
        }

        @media (orientation: landscape) {
            .map{

            width: calc(100vw - var(--font) * 20);
            left:calc(calc(var(--font) * 8));
        }
        .window{
            top: calc(2 * var(--font));
            left: calc(2 * var(--font));
            width: calc(100vw - var(--font) * 20);
            height:calc(100vh - 4 * var(--font));
            left:calc(calc(var(--font) * 8));
        }
            :root {
  --font:min(16px,1.5vw, 3vh);
}
            .menu{
                text-align: left;
                border:0;
                width:calc(100vw);
                flex-direction:row;
  }
       .menu a{
            border:0;
            border-right: red solid 1px;
            padding-right: var(--font);
            padding-left: var(--font);
        }
}
        @font-face {
  font-family: "myFont";
  src: url("VCR_OSD_MONO_1.001.ttf");
}
    </style>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body style="margin: 0;padding: 0;">
    <canvas id="image"></canvas>
    <div class="menu">
        <p class="en">Aurora data: </p><p class="bg">данни: </p>
        <a onclick="windowShow(0)"><p class="en">diagrams</p><p class="bg">диаграми</p></a>
        <a onclick="windowShow(2)"><p class="en">raw data file</p><p class="bg">сурови данни</p></a>
        <a onclick="windowShow(3)"><p class="en">Aurora observation</p><p class="bg">наблюдавай Аврора</p></a>
        <a onclick="windowShow(1)"><p class="en">about mission</p><p class="bg">за полета</p></a>
        <select name="lang" id="lang">
        <option class="option" value="bg"><p>Български</p></option>
        <option class="option" value="en"><p>English</p></option>
</select>
    </div>
        <div class="map" id="map">

        </div>
    <div class="altitudeContainer">
        <div class="zero marker">0m</div>
        <div class="max marker">30000m</div>
        <div class="alt marker" id="marker">0m</div>
    </div>
    <div class="angle"  style="top: calc(var(--font) * 7)"><div style='content: url("textures/redUp.png");transform: translate(50%,-50%) rotate(calc(var(--yaw) * 1deg));'></div></div>
    <div class="angle"  style="top: calc(var(--font) * 17)"><div style='content: url("textures/redFront.png");transform: translate(50%,-50%) rotate(calc(var(--roll) * 1deg));'></div></div>
    <div class="angle"  style="top: calc(var(--font) * 27)"><div style='content: url("textures/redSide.png");transform: translate(50%,-50%) rotate(calc(var(--pitch) * 1deg));'></div></div>
    <div class="window" id="diagrams">


        <form style="width: 100%;">
            <p class="en">Data:</p><p class="bg">Данни:</p>
	    <select name="selectData" id="selectData">
        	<option class="option en" value="temperature">temperature</option>
        	<option class="option en" value="pressure">pressure</option>
        	<option class="option en" value="humidity">humidity</option>
        	<option class="option en" value="PMconc">Airborne PM concentrations</option>
        	<option class="option en" value="PMnum">Airborne PM count</option>
        	<option class="option en" value="rssi">rssi</option>
        	<option class="option en" value="snr">snr</option>
        	<option class="option en" value="volt">Battery level (V)</option></p>
		<option class="option bg" value="temperature">температура</option>
        	<option class="option bg" value="pressure">налягане</option>
        	<option class="option bg" value="humidity">влажност</option>
        	<option class="option bg" value="PMconc">Концентрация прахови частици</option>
        	<option class="option bg" value="PMnum">Количество прахови частици</option>
        	<option class="option bg" value="rssi">rssi</option>
        	<option class="option bg" value="snr">snr</option>
        	<option class="option bg" value="volt">Напрежение на батерията (V)</option>
            </select>
            <p class="en">Related to:</p><p class="bg">Спрямо:</p>
            <select name="relTo" id="relTo">
        	    <option class="option en" value="altitude">altitude</option>
        	    <option class="option en" value="time">time</option>
        	    <option class="option bg" value="altitude">височина</option>
        	    <option class="option bg" value="time">време</option>
            </select>
        </form>
                <div class="chart">
        <canvas id="diagramsIm">
            
        </canvas></div>
        <a class="closer" onclick="windowClose()">X</a>
    </div>
    <div class="window" id="about">
	    
        <a class="closer" onclick="windowClose()">X</a>
    </div>
    <div class="window" id="rawDataWindow">
	    <a id="csvFile"><p class="en">CSV sensor data table</p><p class="bg">Таблица с данни от сензори в CSV</p></a><br>
        <p class="en">Flight video will exist after mission end</p><p class="bg">Очаквайте видео от полета след края на мисията</p>
        <a class="closer" onclick="windowClose()">X</a>
    </div>
    <div class="window" id="observationWindow">
	<button onclick="setLocation()">use your location</button>
        <div style="height: calc(100% - var(--font) * 5); width: calc(100% - var(--font) * 2); position: absolute;top: calc(var(--font) * 4); right: var(--font)" id="map2">
        </div>

        <a class="closer" onclick="windowClose()">X</a>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="graphics.js">

</script>
