<!DOCTYPE html>
<head>
      <title>Aurora</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="keywords" content="Aurora, staratosphre, weather, balloon, project, vrvarna, vr varna, peshigoshi, labcoin, Аврора, стратостат, метеорологичен, балон, стратосфера, пешигоши, VR варна, лабкойн">
      <meta name="description" content='Сайт за наблюдение на полета на стратосферната сонда "Aurora", създадена от варненски ученици с подкрепа на VR varna и Godzilla'>
    <style>
        :root {
  --altitude:15000;
  --font:min(5vw, 2vh);
  --yaw:0;
  --roll:0;
  --pitch:0;
  --side:calc(var(--font) * 3 );
  --altBarLength:calc(100vh - 2 * var(--font));
  --maxAlt:40000;
  --space:1000;
  --red:white;
  --darkred:#888;
}
        img, .angle{
            filter:hue-rotate(0deg) saturate(0%) brightness(300%);
        }
        .angle{
            filter:hue-rotate(0deg) saturate(0%) brightness(300%);
        }

        h1{
            display: block;
            text-align: center;
            padding: calc(var(--font) / 2);
        }
        button{
            background-color: black;
            outline: none;
            border: 1px solid var(--darkred);
            padding: calc(var(--font)/2);
            cursor: pointer;
        }
        p{
            display: inline;
        }
        body *, body{
            font-family: 'myFont'!important;
            font-size: var(--font);
            color: var(--red);
            text-decoration: none;
        }
        body>canvas{
            position: fixed;
            left:0;
            top:0;
            z-index:-1;
            width: 100%;
            height: 100%;
            
        }
        .discription{
            overflow:auto;
            width: 100%;
            scrollbar-color: var(--red) black;
            scrollbar-width: thin;
            line-height: 1.5;
        }
        .discription p{
            display: block;
            margin-bottom: var(--font);
        }
        .icon{
            display: inline;
            height: calc(var(--font) * 2);
            margin-top: calc(0px - var(--font) / 2);
            margin-bottom: calc(0px - var(--font) / 2);
            padding: 0px;
        }
        .menu{
            cursor: pointer;
            text-align: left;
            flex-direction:row;
            left:0;
            top:0;
            position: fixed;
            width:calc(100vw - var(--side));
            font-size: var(--font);
            flex-direction:column;
            display:flex;
            background-color: black;
            border-bottom: var(--red) solid 1px;
        }
        .menu>a, .menu>select{
            display: none;
            cursor:pointer;
            border-top: var(--red) solid 1px;
        }
        .menu:focus-within>a, .menu:focus-within>select{
            display: inline-block;
        }
        .menu>*, select{      
            background: black;
            margin:0;     
            display:block;
            padding: calc(var(--font) / 2);
        }
        .file{
            box-sizing: border-box;
            display: flex;
            border: 1px solid var(--darkred);
            padding: calc(var(--font) / 2);
            vertical-align: middle;
            align-items:flex-start;
        }
        .file>*{
            display: inline-block;
            margin-top: auto;
            margin-bottom: auto;
        }
        .altitudeContainer{
            /*overflow:hidden;*/
            display: flex;
            flex-direction: column-reverse;
            border-right: 1px solid var(--red);
            width:calc(var(--font) * 2);
            height:var(--altBarLength);
            position: absolute;
            bottom:var(--font);
            right: var(--font);
        }
        .altitudeContainer>.unit{
            margin-left: auto;
            width:10%;
            border-bottom:1px solid var(--red);
            height: calc(var(--space) / var(--maxAlt) * var(--altBarLength));
        }
        .altitudeContainer>.unit>div{
            position: absolute;
            right: 0;
            border-bottom:1px solid var(--red);
            height: calc(var(--space) / var(--maxAlt) * var(--altBarLength));
        }
        .marker{
            right:0;
            position:absolute;
            display:flex;
            font-size: var(--font);
        }
        .marker::after{
            display:inline-block;
            content: " ";
            width:0px;
            height: 0px;
            border:calc(var(--font) / 2) solid transparent;
            margin-right: calc(var(--font) / 4);
        }
        .alt::after{
            border-left:calc(var(--font) / 2) solid var(--red);
        }
        .alt{
            bottom:calc(var(--altBarLength) / var(--maxAlt) * var(--altitude));
        }
        .angle{
            display: inline-block;
            position: relative;
            background: url("textures/azimuth.png") calc(var(--font) * 16);
            background-position: center;
            background-size: cover;
            transform: translate(50%,-50%);
            left:var(--font);
            bottom:var(--font);
	        margin-top: 50%;
	        margin-bottom: -50%;
            margin-right: 50%;
	        margin-left: -50%;
            z-index: 3;
            
		aspect-ratio: 1 / 1;
        }
        .angle div{
            position: absolute;
            display: inline-block;
            width: 100%;
            top:50%;
            right:50%;
        }
	.anglecontainer{
        overflow: hidden;
        box-sizing: border-box;
        padding: calc(var(--font));
        height: 100%;
		position: fixed;
		bottom:0;
		right: 0;
		background:black;
		width:var(--side);
        transition-duration: 0.5s;
	}
    .anglecontainer>div:not(.altitudeContainer):not(.anglecontainer:focus-within>div:not(.altitudeContainer)){
        width: 0;
        border:0px;
        overflow: hidden ;
        padding: 0;
        transition-duration: 0.5s;
    } .anglecontainer:focus-within>div:not(.altitudeContainer){
        transition-duration: 0.5s;
    }
    .anglecontainer>div:not(.altitudeContainer){
        width: calc(100% - 2 * var(--font));
        transition-duration: 0.5s;
    }
    .anglecontainer:focus-within{
        transition-duration: 0.5s;
  width:calc(min(30vw,23.33vh) + 2 * var(--font));
}
        .map{
            position: fixed;
            width: calc(100vw - var(--side));
            height: 30vh;
            bottom:0;
            left:0;
            background: black;
        }
        .window{
            border: 1px solid var(--red);
            padding: var(--font);
            position:fixed;
            top:0;
            left: 0;
            background-color: black;
            width: 100vw;
            height:100vh;
            z-index: 4;
            display: none;
            box-sizing:border-box;
        }
        .window .chart{
            width: 100%;
            height: calc(100% - var(--font) * 4);
            
        }
        .window .dataSelectForm{
            width:calc(var(--font) * 10);
            position: absolute;
            top:calc(var(--font) * 1);
            left: calc(var(--font) * 1);
        }
        .window *{
            z-index: 5;
        }

        .en{
            display:none;
        }
        .bg{
            display:unset;
        }
        .closer{
            display:block;
            padding: calc(var(--font) / 2);
            position: absolute;
            background: var(--red);
            color:black;
            top:0;
            right:0;
            cursor: pointer;
        }
        select, select *{
            border: 1px solid var(--darkred) ;
            display: inline-block;
            outline:  none;
        }
        .downarrow{
            transform: scaleY(-1);
            position: absolute;
            right: var(--font);
        }
        @media (orientation: landscape) {
            .anglecontainer{
                height: calc(100% - 3 * var(--font));
                bottom: 0;
            }
            .downarrow{
           display: none;
        }
            :root {
  --font:min(16px,1.3vw, 3vh);
}
            .menu{
                padding: calc(var(--font) / 2);
                text-align: left;
                border:0;
                width:calc(100vw);
                flex-direction:row;
  }
          .menu>a, .menu>select{
            display: block;
        }
       .menu>a, .menu>p{
            border:0;
            border-right: var(--red) solid 1px;
            padding-right: var(--font);
            padding-left: var(--font);
        }
}
        @font-face {
  font-family: "myFont";
  src: url("VCR_OSD_MONO_1.001.ttf");
}
    </style>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
      <link rel="icon" type="image/x-icon" href="textures/favicon.ico">
</head>
<body style="margin: 0;padding: 0;">
    <canvas id="image"></canvas>
    <div class="menu" tabindex="1">
        <div><img src="textures/favicon.ico" class="icon" alt="A"> Aurora
        <img src="textures/A.png" class="icon downarrow"></div>
        <a onclick="windowShow(0)"><img src="textures/diagrams.png" class="icon"> <p class="en">diagrams</p><p class="bg">диаграми</p></a>
        <a onclick="windowShow(2)"><img src="textures/downloadFile.png" class="icon"> <p class="en">raw data files</p><p class="bg">сурови данни</p></a>
        <a onclick="windowShow(3)"><img src="textures/observation.png" class="icon"> <p class="en">Aurora observation</p><p class="bg">наблюдавай Аврора</p></a>
        <a onclick="windowShow(1)"><img src="textures/us.png" class="icon"> <p class="en">about us</p><p class="bg">за нас</p></a>
        <a onclick="windowShow(4)"><img src="textures/phone.png" class="icon"> <p class="en">contacts</p><p class="bg">контакти</p></a>
        <select name="lang" id="lang" tabindex="2">
        <option class="option" value="bg"><p>Български</p></option>
        <option class="option" value="en"><p>English</p></option>
</select>
    </div>
        <div class="map" id="map">

        </div>
    <div class="anglecontainer" tabindex="1">
    <div class="angle"><div style='content: url("textures/redUp.png");transform: translate(50%,-50%) rotate(calc(var(--yaw) * 1deg));'></div></div>
    <div class="angle" ><div style='content: url("textures/redFront.png");transform: translate(50%,-50%) rotate(calc(var(--roll) * 1deg));'></div></div>
    <div class="angle"><div style='content: url("textures/redSide.png");transform: translate(50%,-50%) rotate(calc(var(--pitch) * 1deg));'></div></div>
        
        <div class="file" id="rssi">rssi: -50db</div>
        <div class="file" id="snr">snr: 10db</div>
    <div class="altitudeContainer">
        <div class="alt marker" id="marker">
        </div>
        <div class="unit"><div>0</div></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"><div>10</div></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"><div>20</div></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"><div>30</div></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"><div>km</div></div>
        <div class="unit"></div>
        <div class="unit"></div>
        <div class="unit"></div>
    </div>
    </div>
    <div class="window" id="diagrams">


        <form style="width: 100%;">
            <p class="en">Data:</p><p class="bg">Данни:</p>
	    <select name="selectData" id="selectData">
        	<option class="option en" value="temperature">temperature</option>
        	<option class="option en" value="pressure">pressure</option>
        	<option class="option en" value="humidity">humidity</option>
        	<option class="option en" value="PMconc">Airborne PM concentrations</option>
        	<option class="option en" value="PMnum">Airborne PM count</option>
        	<option class="option en" value="rssi">rssi</option>
        	<option class="option en" value="snr">snr</option>
        	<option class="option en" value="volt">Battery level (V)</option></p>
		<option class="option bg" value="temperature">температура</option>
        	<option class="option bg" value="pressure">налягане</option>
        	<option class="option bg" value="humidity">влажност</option>
        	<option class="option bg" value="PMconc">Концентрация прахови частици</option>
        	<option class="option bg" value="PMnum">Количество прахови частици</option>
        	<option class="option bg" value="rssi">rssi</option>
        	<option class="option bg" value="snr">snr</option>
        	<option class="option bg" value="volt">Напрежение на батерията (V)</option>
            </select>
            <p class="en">Related to:</p><p class="bg">Спрямо:</p>
            <select name="relTo" id="relTo">
        	    <option class="option en" value="altitude">altitude</option>
        	    <option class="option en" value="time">time</option>
        	    <option class="option bg" value="altitude">височина</option>
        	    <option class="option bg" value="time">време</option>
            </select>
        </form>
                <div class="chart">
        <canvas id="diagramsIm">
            
        </canvas></div>
        <a class="closer" onclick="windowClose()">X</a>
    </div>
    <div class="window" id="about">
        <div style="width:100%;height: 100%;display: flex;flex-direction: column;">
        <div class="discription">
            <h1>Какво е “Aurora”?</h1>
            <p>“Aurora” е проект, имащ за цел създаването и изстрелването на метеорологичен балон, способен да достигне до 30 километра височина – близо до границата на Космоса. Нашата цел е да заснемем уникални кадри от високите слоеве на атмосферата, да проведем научни експерименти и да вдъхновим повече млади хора като нас да се занимават с наука. Проектът съчетава инженерни, научни и маркетингови усилия – от изграждането на специална сондова кутия и електроника, до рекламна кампания, насочена към широката публика. 
            <H1>Екип</H1><p>
Ние сме екип от десетокласници, вдъхновени от науката. Започнахме като просто група ентусиазирани приятели, но идеите ни бързо се превърнаха в реалност и вече сме много повече заедно. Групата ни включва хора с разнообразни интереси - от изкуство до физика и електроника. 
            </div></div>
        <a class="closer" onclick="windowClose()">X</a>
    </div>
    <div class="window" id="rawDataWindow">
        <h1><p class="en">You can download some data from Aurora here:</p><p class="bg">Тук можете да изтетлите някои данни събрани от сондата:</p></h1>
	    <a id="csvFile" class="file"><img src="textures/tableFile.png"> &nbsp;<p class="en">CSV sensor data table</p><p class="bg">Таблица с данни от сензори в CSV</p></a>
        <a id="videoFile" class="file"><img src="textures/videoFile.png"> &nbsp;<p class="en">Flight video will exist after mission end</p><p class="bg">Очаквайте видео от полета след края на мисията</p></a>
        <a class="closer" onclick="windowClose()">X</a>
    </div>
    <div class="window" id="observationWindow">
	<h1><div style="display: inline-block;padding: calc(var(--font) / 2);"><p class="en">
Where to watch to see Aurora from your location:</p><p class="bg">Накъде да гледате за да наблюдавате Aurora от вашето местоположение:&nbsp;</p></div><button onclick="setLocation()">use your location</button></h1>
        <div style="height: calc(100% - var(--font) * 7); width: 100%;" id="map2">
        </div>

        <a class="closer" onclick="windowClose()">X</a>
    </div>
    <div class="window" id="contacts">
	<a class="file" href="tel:+359877914275"><img src="textures/phone.png"><div>&nbsp;: +359877914275</div></a>
    <a class="closer" onclick="windowClose()">X</a>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="graphics.js">

</script>